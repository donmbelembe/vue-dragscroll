(function(a,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(a=typeof globalThis<"u"?globalThis:a||self,r(a["vue-dragscroll"]={}))})(this,function(a){"use strict";const r={addEventListeners(s,e,n){for(let t=0,f=e.length;t<f;t++)s.addEventListener(e[t],n,{passive:!1})},removeEventListeners(s,e,n){for(let t=0,f=e.length;t<f;t++)s.removeEventListener(e[t],n,{passive:!1})},emitEvent:function(s,e,n){if(s.componentInstance)s.componentInstance.$emit(e,n);else{let t=new window.CustomEvent(e,{detail:n});s.el.dispatchEvent(t)}}},p=["mousedown","touchstart"],w=["mousemove","touchmove"],E=["mouseup","touchend"],L=function(s,e,n){let t=s,f=!0,v=window;typeof e.value=="boolean"?f=e.value:typeof e.value=="object"?(typeof e.value.target=="string"?(t=s.querySelector(e.value.target),t||console.error("There is no element with the current target value.")):typeof e.value.target<"u"&&console.error(`The parameter "target" should be either 'undefined' or 'string'.`),typeof e.value.container=="string"?(v=document.querySelector(e.value.container),v||console.error("There is no element with the current container value.")):typeof e.value.container<"u"&&console.error(`The parameter "container" should be be either 'undefined' or 'string'.`),typeof e.value.active=="boolean"?f=e.value.active:typeof e.value.active<"u"&&console.error(`The parameter "active" value should be either 'undefined', 'true' or 'false'.`)):typeof e.value<"u"&&console.error("The passed value should be either 'undefined', 'true' or 'false' or 'object'.");const S=function(d,m){v===window?window.scrollBy(d,m):(v.scrollLeft+=d,v.scrollTop+=m)},X=function(){let d,m,g,h=!1;t.md=function(o){const u=o instanceof window.MouseEvent,l=u?o.pageX:o.touches[0].pageX,i=u?o.pageY:o.touches[0].pageY,c=document.elementFromPoint(l-window.pageXOffset,i-window.pageYOffset),T=e.arg==="nochilddrag",N=e.modifiers.noleft,O=e.modifiers.noright,M=e.modifiers.nomiddle,V=e.modifiers.noback,_=e.modifiers.noforward,C=e.arg==="firstchilddrag",I=c===t,P=c===t.firstChild,R=T?typeof(c==null?void 0:c.dataset.dragscroll)<"u":typeof(c==null?void 0:c.dataset.noDragscroll)>"u";if(!(!I&&(!R||C&&!P))&&!(o.button===0&&N)){{if(o.button===1&&M)return;if(o.button===2&&O)return;if(o.button===3&&V)return;if(o.button===4&&_)return}g=1,d=u?o.clientX:o.touches[0].clientX,m=u?o.clientY:o.touches[0].clientY}},t.mu=function(o){g=0,h&&r.emitEvent(n,"dragscrollend"),h=!1},t.mm=function(o){const u=o instanceof window.MouseEvent;let l,i;if(g){o.preventDefault(),h||r.emitEvent(n,"dragscrollstart"),h=!0;const c=t.scrollLeft+t.clientWidth>=t.scrollWidth||t.scrollLeft===0,T=t.scrollTop+t.clientHeight>=t.scrollHeight||t.scrollTop===0;l=-d+(d=u?o.clientX:o.touches[0].clientX),i=-m+(m=u?o.clientY:o.touches[0].clientY),e.modifiers.pass?(t.scrollLeft-=e.modifiers.y?-0:l,t.scrollTop-=e.modifiers.x?-0:i,t===document.body&&(t.scrollLeft-=e.modifiers.y?-0:l,t.scrollTop-=e.modifiers.x?-0:i),(c||e.modifiers.y)&&S(-l,0),(T||e.modifiers.x)&&S(0,-i)):(e.modifiers.x&&(i=-0),e.modifiers.y&&(l=-0),t.scrollLeft-=l,t.scrollTop-=i,t===document.body&&(t.scrollLeft-=l,t.scrollTop-=i)),r.emitEvent(n,"dragscrollmove",{deltaX:-l,deltaY:-i})}},r.addEventListeners(t,p,t.md),r.addEventListeners(window,E,t.mu),r.addEventListeners(window,w,t.mm)};f?document.readyState==="complete"?X():window.addEventListener("load",X):(r.removeEventListeners(t,p,t.md),r.removeEventListeners(window,E,t.mu),r.removeEventListeners(window,w,t.mm))},Y=s=>{const e=s;r.removeEventListeners(e,p,e.md),r.removeEventListeners(window,E,e.mu),r.removeEventListeners(window,w,e.mm)},y={mounted:(s,e,n)=>L(s,e,n),updated:(s,e,n)=>{JSON.stringify(e.value)!==JSON.stringify(e.oldValue)&&L(s,e,n)},unmounted:s=>Y(s)},D={install(s){s.directive("dragscroll",y)}};typeof window<"u"&&window.Vue&&(window.VueDragscroll=y),a.default=D,a.dragscroll=y,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
